!async function(){window.$=e=>document.querySelector(e),window.$$=e=>document.querySelectorAll(e),window.hide=e=>e.style.display="none",window.wait=(t=0)=>new Promise(e=>setTimeout(e,t)),window.log=(...e)=>console.log(...e),window.elog=(...e)=>console.error(...e),window.pressed=function(e,t=!1){e.style.transition="0.2s",e.style.transform="translateY(3px)",t&&(e.style.boxShadow="0px 1px 1px #666"),setTimeout(()=>{e.style.transform="translateY(0px)",t&&(e.style.boxShadow="0px 4px 1px #666")},300)},window.downloadFile=function(n){return new Promise(e=>{const t=document.createElement("a");t.style.display="none",t.href=URL.createObjectURL(n),n.name&&(t.download=n.name),document.body.appendChild(t),t.click(),setTimeout(()=>{URL.revokeObjectURL(t.href),t.parentNode.removeChild(t),e("Download Started !")},0)})},window.sp={off:function(){const e=$("#sidePanel");return e.style.transform="translateX(-250px)",e.style.opacity="0",window.sp},on:function(){const e=$("#sidePanel");return e.style.transform="translateX(0px)",e.style.opacity="1",window.sp},t:function(e){return"1"==$("#sidePanel").style.opacity?window.sp.off():window.sp.on(),"function"==typeof e&&e(),window.sp}},window.hmbgr={on:function(){let[e,t,n]=$("#hmbgr").children;return e.style.width="25px",e.style.transform="translateY(7.5px) rotate(-45deg)",t.style.transform="rotate(45deg)",n.style.transform="translateY(-7.5px) rotate(-45deg)",window.hmbgr},off:function(){let[e,t,n]=$("#hmbgr").children;return e.style.width="18px",e.style.transform="translateY(0px) rotate(0deg)",t.style.transform="rotate(0deg)",n.style.transform="translateY(0px) rotate(0deg)",window.hmbgr},t:function(e=!1){return"rotate(45deg)"==$("#hmbgr").children[1].style.transform?window.hmbgr.off():window.hmbgr.on(),e&&e(),window.hmbgr}},window._getH=e=>window.getComputedStyle(e).getPropertyValue("height"),window._toggleHeight=function(e,t,n){const i=this;this.id=e,this.tag=e=>document.querySelector(e),this.tag(e).style.transition="0.2s",this.h=t||_getH(this.tag(e)),this.t=()=>{i.tag(i.id).style.height="0px"==i.tag(i.id).style.height?i.h:"0px"},n&&this.t()},window.onLoad=async e=>{for(;!["complete","interactive"].includes(document.readyState);)await new Promise(e=>setTimeout(e,100));return"function"==typeof e?e():e},window.viewportTicker=window.requestAnimationFrame(function e(){$("#sidePanel").style.height=window.innerHeight-50+"px";$("body").style.height=window.innerHeight+"px";window.requestAnimationFrame(e)})}(),!async function(){window._imgC=async function(){for(;!["complete","interactive"].includes(document.readyState);)await new Promise(e=>setTimeout(e,10));document.querySelectorAll("img").forEach(async e=>{let t=e.getAttribute("data-src");var n,i,o;t&&(n=t.split("/")[t.split("/").length-1],e.src=(i=n,o=t,await new Promise(async t=>{var e=localStorage.getItem(i)||!1;if(e)return t(e);e||t(o),fetch("/img",{body:JSON.stringify({url:o}),headers:new Headers({"Content-Type":"application/json"}),method:"POST"}).then(e=>e.text()).then(e=>{t(e="data:image/jpeg;base64,"+e),localStorage.setItem(i,e)})})))})},_imgC()}(),!async function(){"File Manager"!=document.title?delete window._fm:(_fileManager=function(d=""){this.bn=location.href.split("/")[location.href.split("/").length-1];const c=this;this.pwd=d,this.ce=(e,t)=>{let n=document.createElement(e);return n.innerHTML=t,n},this.rendering=!1,this.forceStop=!1,this.stopRender=t=>new Promise(async e=>{for(c.forceStop=!0;c.rendering;)await wait(10);c.forceStop=!1,e("function"==typeof t&&t())}),this.setPwd=(e=c.pwd)=>{e=e.slice(1).split("/");let t=$("#pwd"),n=e.shift();n=0<n.length?n:"/",t.innerHTML="<span>"+n+"</span>";for(var i of e)t.innerHTML+='<div class="rightArrow"></div><span> '+i+" </span>";t.scrollTo(t.scrollWidth,0)},this.open=async e=>{let t=await(await fetch("/fm",{method:"POST",headers:new Headers({"Content-Type":"application/json"}),body:JSON.stringify({opr:"ls",path:e})})).text()||!1;try{t=JSON.parse(t)}catch(e){return log(t)}if(t.error)return log(t.error);c.pwd=t.pwd,t&&c.stopRender(()=>c.render(t))},this.wait=t=>new Promise(e=>setTimeout(e,t)),this.render=async e=>{if(!this.rendering){this.rendering=!0,c.setPwd();for(var t=document.querySelector(".files-container"),n=t.children,i=n.length;i--;)t.removeChild(n[i]);var o,r,a=d.split("/").at(-2);t.appendChild(c.newgb(a));for(o of e.dirs){if(c.forceStop)break;var l=c.newDir(o);t.appendChild(l),_imgC(),await wait(20),c.slideUp(l)}for(r of e.files){if(c.forceStop)break;var s=c.newFile(r);t.appendChild(s),_imgC(),await wait(20),c.slideUp(s)}$(".upDir").innerHTML=c.pwd.split("/")[c.pwd.split("/").length-2],this.rendering=!1}},this.slideUp=e=>{e.style.opacity=1,e.style.transform="translateY(0px) scale(1)"},this.newDir=e=>{let t=document.createElement("div");return t.className="folder",t.innerHTML="<img data-src='/icons/folder.png' /> <span class='name'> "+e+'</span> <div class="open-btn" onclick = " _fm.open(_fm.pwd + \'/'+e+"'.trim())\"> Open </div> ",t},this.newFile=e=>{let t=document.createElement("div");return t.className="file",t.innerHTML="<img data-src='/icons/file.png' /> <span class='name'> "+e+"</span>",t},this.newgb=e=>{let t=document.createElement("div");return t.className="gb ovrflw-hdn pos-rel hbr(chd-div(right-0p))",t.style.display=e.length<1||"emulated"==e?"none":"flex",t.innerHTML="<img data-src='/icons/back.png' /> <span class='name upDir'> "+e+" </span><div class=\"back-btn\"  onclick=\"_fm.open(_fm.pwd.split('/').slice(0, -1).join('/'))\"> Back </div> ",t},this.configLinks=e=>{$(".upDir").innerHTML=c.pwd.split("/")[c.pwd.split("/").length-2],c.setPwd(e)}},async function(){window._fm=new _fileManager(pwd),_fm.open(pwd)}())}(),!async function(){var a;function l(e){return(e/1048576).toFixed(2)+" MB"}function s(e=!1){let t=$("#ytdl_err");if(!e)return t.style.display="none";t.textContent=e,t.style.display="block"}"YouTube Video Downloader"!=document.title?(delete window.toggle_avTab,delete window.getVQ):($("input#url").value=localStorage.getItem("lastYtdlVideo")||"",window.getVQ=()=>{s(),document.querySelector("#panel").style.opacity="0",$(".loader").style.display="block";var e=document.querySelector("#url").value.trim()||"";e.length<1||(localStorage.setItem("lastYtdlVideo",e),fetch("/ytdl/getd",{method:"POST",body:JSON.stringify({url:e}),headers:new Headers({"Content-Type":"application/json"})}).then(e=>e.json()).then(e=>{{var i=e,o,r;if($(".loader").style.display="none",i.error)return s(i.error);document.querySelector("#vif").src=i.iframeUrl,document.querySelector("#vif").style.background='url("'+i.thumbnail+'")',$("#vif").style.backgroundSize="contain",document.querySelector("#vn").innerHTML=`${i.title} <div class="t-c fw-600"> ( ${function(e){var t=parseInt(e/60),e=0<t?e%60:e;return 0<t?t+`m ${e}secs`:e+" secs"}(i.dur)} ) </div>`;let t=document.querySelector("#vPanel"),n=document.querySelector("#aPanel");for(o in t.innerHTML="",n.innerHTML="",i.vqs){let e=a.cloneNode(!0);e.children[0].textContent=o,e.children[1].textContent=l(i.vqs[o].size);o=i.vqs[o]["height"];e.children[2].children[0].href=`/ytdl/download?url=${document.querySelector("#url").value.trim()}&q=${o}&v=1`,t.appendChild(e)}for(r in i.aqs){let e=a.cloneNode(!0);e.children[0].textContent=r,e.children[1].textContent=l(i.aqs[r]),e.children[2].children[0].href=`/ytdl/download?url=${document.querySelector("#url").value.trim()}&q=${r}&a=1`,n.appendChild(e)}document.querySelector("#panel").style.opacity="1"}}))},onLoad(function(){document.querySelector(".quality")&&(a=document.querySelector(".quality").cloneNode(!0))}),window.toggle_avTab=function(e){for(var t of e.parentNode.children)t.style.border="none";e.style.borderBottom="2px solid","Audio"==e.textContent.trim()&&($("#vPanel").style.display="none",$("#aPanel").style.display="block"),"Video"==e.textContent.trim()&&($("#aPanel").style.display="none",$("#vPanel").style.display="block")})}(),!async function(){const o={pg:"display: inline-block; height: 30px; width: 300px; box-sizing: border-box; border: 1px solid; border-radius: 5px; overflow: hidden; font-family: calibri",bgTxt:"position: relative ;text-align: center; box-sizing: border-box; border-radius: 0px;height: 28px;background: rgba(0,0,0,0.2); width: 298px; padding: 7px; font-size: 14px; color : #162;",bar:"position: relative ;text-align: center; box-sizing: border-box;border-radius: 0px;height: 28px; background: #2a5; top: -28px; width: 0px; overflow: hidden; transition : 2s linear;",txt:"display: block; width: 298px; font-size: 14px; height: 28px; color: #fff; padding: 7px; box-sizing: border-box;",glare:"height: 28px; position: relative ; width: 80px; background: linear-gradient(90deg, rgba(250,250,250,0), rgba(250,250,250,0.5), rgba(250,250,250,0.8)); animation: glare 2s linear 0s infinite normal ; top: -28px; border-radius: 0px 3px 3px 0px;"};window.progressBar=function(e){const t=this;let n=(t,...e)=>e.forEach(e=>t.appendChild(e));for(var i in o)t[i]=(e=>{let t=document.createElement("div");return t.style=e,t})(o[i]);this.init=e=>n(e,t.pg,(e=>{let t=document.createElement("style");return t.innerHTML=e,t})(`
@keyframes glare {
    from {left: -80px;}
    to {left: 101%;}
}
`)),this.config=e=>{n(t.bar,t.txt),n(t.bar,t.glare),n(t.pg,t.bgTxt),n(t.pg,t.bar),t.text="",t.width="1%"},this.config(),this.update=e=>{t.text=e.text||t.text,t.width=e.width||t.width,t.bgTxt.textContent=t.text,t.txt.textContent=t.text,t.bar.style.width=t.width},this.glareS=e=>t.glare.style.opacity=e?"1":"0"}}(),!async function(){if("Image Downloader"==document.title){const pb=new progressBar,dblk=(...e)=>e.forEach(e=>e.style.display="block"),getsc=(e,t)=>{return{1:"Job Started",2:"Fetching html",3:"Downloading imgs ("+t+")",4:"Zipping Files"}[e]},imgD=(t=!1)=>{(t=t||document.querySelector("#website_url").value)&&(dbtn(),dblk($("#pbc"),pb.glare),fetch("/imgD",{method:"POST",headers:new Headers({"Content-Type":"application/json"}),body:JSON.stringify({url:t})}).then(e=>e.json()).then(e=>logger(e,t)))};function logger(data,url){let{status,done,dlnk=!1,downloading:dd}=data,w=done?"100%":3==status&&"0/0"!=dd?100*eval(dd)+"%":status/5*100+"%",t=done?"Ready To Download !":getsc(status,dd);pb.update({text:t,width:w}),done?(dbtn(dlnk),hide(pb.glare)):setTimeout(()=>imgD(url),1e3)}function dbtn(e){let t=$("#dbtn");e?(dblk(t),t.addEventListener("click",()=>setTimeout(()=>{location.href=e},700))):hide(t)}async function onload(e,...t){for(;"complete"!=document.readyState;)await new Promise(e=>setTimeout(e,500));t.length&&e(...t),e()}onload(()=>{pb.init(document.querySelector("#pbc"));let e=document.querySelector("#siteURL_form");e.addEventListener("submit",e=>{e.preventDefault(),imgD()})})}}(),!async function(){let n={user:'<svg viewBox="0 0 100 100"><circle cx="50%" cy="50%" r="45"/><path d="M 22 80 A 20 20 0 0 1 78 80" /><circle cx="50" cy="33" r="17" /></svg>',search:'<svg viewBox="0 0 100 100"><circle cx="40" cy="40" r="30"/><path d="M 62 62 L 80 80"/></svg>',plus:'<svg viewBox="0 0 100 100"><path d="M 50 5 L 50 95 M 5 50 L 95 50"/></svg>',group:'<svg viewBox="0 0 100 100" class="group" ><circle cx="50" cy="50" r="48" /><circle cx="22" cy="40" r="10" /><circle cx="50" cy="45" r="12" /><circle cx="78" cy="42" r="9" fill="#333"/><path d="M 30 80 A 15 15 , 0 0 1 , 70 80 M 65 60 A 12 12, 0 0 1, 88 64 M 12 64 A 12 12 , 0 0 1 , 35 60" />'};function e(){for(var e of document.querySelectorAll("[icon]")){var t=e.getAttribute("icon")||!1;n.hasOwnProperty(t)&&(e.innerHTML=n[t])}}e(),window.setIcons=e}(),!async function(){async function a(e,t=!1){var n=localStorage.getItem(e+".hbs");if(log(!t,n,e),!t&&n)return JSON.parse(n);let i=await fetch("/getView",{method:"POST",headers:new Headers({"Content-Type":"application/json"}),body:JSON.stringify({view:e})}),o=await i.json()||{};return localStorage.setItem(e+".hbs",JSON.stringify(o)),o}if(0==__appV||__appV!=parseInt(localStorage.getItem("viewV")||"0"))for(var e of["index","fm","ytdl","imgD","nb"])await a(e,1);async function i(e,t=1){var n=await a(e);const i=$("#body");var{body:n,title:o,mainHeading:r}=n;i.style.transition=.3.toFixed(1)+"s",i.style.opacity=0,i.style.transform="rotateY(90deg)",await wait(300),i.innerHTML=n,document.title=o,$("#mainH").textContent=r,await wait(10),i.style.opacity=1,i.style.transform="",await loadF.init({ex:"setView",logging:0,appV:__appV,ignore:[],uc:1}),t&&history.pushState({view:e},"",e)}localStorage.setItem("viewV",__appV),window.onpopstate=async function(e){await i(e.state.view,0)};for(let n of $$("a")){let t=n.getAttribute("view")||!1;var o=n.getAttribute("listenerAdded")||!1;t&&!o&&n.addEventListener("click",async function(e){e.preventDefault(),n.setAttribute("listenerAdded",!0),await i(t,1),window.hmbgr.off(),window.sp.off()})}}(),!async function(){if("WhatsUp"==document.title)$("#new-chat")}();