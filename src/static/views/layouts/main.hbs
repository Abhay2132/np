<!DOCTYPE html>
<html lang="en">
<title>{{{title}}}</title>
<meta name="viewport" content="width=device-width" />
<meta name="description" content="Node Express Practice Apps">
<head>
{{#if (isPro)}}
	<script> if ( location.href.startsWith("http") && ! location.href.includes("localhost") ) location.href = "https" + location.href.slice(4); </script >
{{/if}}
<script>{{{loadFiles}}}</script>
<link rel="icon" href="/favicon.png">
<link rel="apple-touch-icon" href="/favicon.png">
<style>
/*@import url('https://fonts.googleapis.com/css2?family=Fredoka:wght@300&display=swap');*/
* {
	font-family: Fredoka, sans-serif, cambria,calibri;
	font-weight: 300;
}

#body, nav, #sidePanel {
	opacity: 0;
}
</style>
</head>
<body>
	
<nav id="mainNav" class="dnl-bg">
	<div id="hmbgr" onclick="hmbgr.t(sp.t)"> <hr /><hr /><hr /> </div>
	<div id="mainH">
		{{{mainHeading}}}
	</div>
</nav>

<div id="sidePanel" class="">
	<a href="/"  class="item" view="index" > HOME </a>
	<div class="item"> Contact me </div>
	<div class="item"> About me </div>
</div>

	<div id="body" class="viewport">
	{{{body}}}
	</div>
	
	<style>
.spinner {
	height: 150px;
	width: 150px;
	animation: spin 1200ms linear infinite;
	position: fixed;
	top: calc(50% - 150px);
	left: calc(50% - 150px / 2);
	transition: 0.5s;
}

@keyframes spin {
	from { transform: rotate(0deg); }
	to { transform: rotate(360deg); }
}
</style>
	<div class="spinner-container">
		<svg viewBox="0 0 100 100" class="spinner" >
			<circle cx="50" cy="50" r="30" style="stroke: #ccc; stroke-width: 7px; fill: none;" />
			<path d="M 50 20 A 30 30 0 0 1 80 50" style="stroke-linecap: round; stroke: #333; stroke-width: 7px; fill: none;"/>
		</svg>
	</div>
</body>

<script>
window.isDev = {{{isDev}}}
window.__appV = {{{appV}}};
if ( __appV == 0 || parseInt(localStorage.getItem("fileV") || "0") != __appV){
	for(let item of Object.keys(localStorage)) {
		if ( item.startsWith("book") || item.startsWith("eruda")  || item == "lastYtdlVideo")  continue;
		localStorage.removeItem(item)
	}
};
window.loadF = Object.create(cacheF);
let js = ("{{{jsFiles}}}").split(",").map( j => "/js/"+j);
let jsFiles = isDev ? js  : ["js/aio.js"];
let cssf = ("{{{cssFiles}}}").split(",").map( c => "/css/"+c);
let cssFiles = isDev ? cssf : ["css/styles.css"]
loadF.files = [
	...cssFiles,
	...jsFiles
];
let pwd = "{{{pwd}}}";
loadF.init({logging: 1, appV :  __appV});
history.pushState({ view : location.href.split("/").at(-1).split("?")[0].split(".")[0] } , "", "");
{{#if (isDev)}}
	let worker = new Worker("js/liveReload.js");
	worker.onmessage = function (e) {
		location.href = location.href;
	}
{{/if}}
if ('serviceWorker' in navigator)
	navigator.serviceWorker.register('js/sw.js');
</script>

</html>