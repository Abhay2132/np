<!DOCTYPE html>
<html lang="en">
<title>{{{title}}}</title>
<meta name="viewport" content="width=device-width" />
<meta name="description" content="Node  Project Hub">
<link rel="manifest" href="/app.webmanifest">
<head>
{{#if (isPro)}}
	<script> if ( location.href.startsWith("http:") && ! location.href.includes(":3000")) location.href = "https" + location.href.slice(4); </script >
{{/if}}
<link rel="icon" href="/favicon.png">
<link rel="apple-touch-icon" href="/favicon.png">
<style>

:root{
	--font-weight:350;
}
* {
	font-family: Fredoka, sans-serif, cambria,calibri;
	font-weight: var(--font-weight);
}

body {
	opacity: 0;
}

</style>
</head>
<body>
	
<nav id="mainNav" class="mainNav">
	<div id="hmbgr" onclick="hmbgr.t(() => sp.t())"> <hr /><hr /><hr /> </div>
	<div id="mainH">
		{{{mainHeading}}}
	</div>
	<div class="user-control"><div icon="user" onclick="t_uc.t()"></div>
		<div class="uc-menu">
			<div class="uc-ls">
				<a href="/login" onclick="setView('login', 1); return false;">LOGIN </a> / 
				<a href="/signup" onclick="setView('signup', 1); return false;">SIGNUP</a>
			</div>
		</div>
	</div>
</nav>

<div id="sidePanel" class='sidePanel hidden-side-panel'>
	<a href="/"  class="item" view="index" onclick="setView('index' , location.href.split('/').at(-1) != 'index'); return false;"> HOME </a>
	<div class="item"> Contact me </div>
	<div class="item"> About me </div>
</div>

	<main id="body" class="viewport">
	{{{body}}}
	</main>
	<div class="snackbar-container" style="display:none;">
		<div class="snackbar" onclick="snkbr.hide()">
		</div>
	</div>
</body>

<script>
const isDev = {{{isDev}}};
const __appV = {{{appV}}};
const pwd = "{{{pwd}}}";

if ( isDev ){
	for(let item of Object.keys(localStorage)) {
		if ( item.startsWith("book") || item.startsWith("eruda")  || item == "lastYtdlVideo")  continue;
		localStorage.removeItem(item)
	}
};
history.pushState({ view : location.href.split("/").at(-1).split("?")[0].split(".")[0] } , "", "");
{{#if (isDev)}}

	let worker = new Worker("/js/liveReload.js");
	worker.onmessage = function () {
		location.href = location.href;
	}
	
{{/if}}

{{#if (isPro)}}
if ('serviceWorker' in navigator)
	navigator.serviceWorker.register('/sw')
	.then(e => console.log("SW reistered !"))
{{/if}}

{{#unless (isDev)}}
{{{getCJ}}}
{{/unless}}

</script>

{{#if (isDev)}}
<script src="/js/getCJ.js"></script>	
{{/if}}

<script>
_getCJ.init({a : "CJ ", cb : () => {document.body.style.opacity = '1';setViewport()} });
</script>
</html>